<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>SmileCare â€“ Patient Reviews</title>

 

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">

    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">



    <style>
        :root {--sc-light-blue: #ADD8E6; --sc-accent-pink: #FF5C7A; --sc-text-dark: #003A52;--sc-bg-light: #eef9ff;}
        body { font-family: 'Georgia', serif; color: #0d1b2a; background-color: #f8f9fa;} 
   .navbar-custom { background: linear-gradient(90deg, #f1f4f8, #4a6fa5);}
    .navbar-nav .nav-link.active { color: #ff4d88 !important;  /* Pink color for active page */ font-weight: 600;}
        .hero-reviews { height: 60vh; background: url('https://raw.githubusercontent.com/hadilsk/webproject/eb62d640a70187409981fffa5f56850cc26f2840/webproject/patient-review-700x467.jpg') center/cover no-repeat; margin-top: -60px;  position: relative; }
        .hero-reviews::after {  content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.45); z-index: 1;}
        .hero-reviews h2 { font-family: 'Montserrat', sans-serif; font-weight: 700; }
        .review-card { background-color: var(--sc-bg-light); transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .review-card:hover { transform: translateY(-5px); box-shadow: 0 0.5rem 1rem rgba(0,0,0,.15) !important; }
        .trim-frame { width: 100%; max-width: 300px; height: 200px; overflow: hidden; }
        .trim-frame img { width: 100%; height: 100%; object-fit: cover; }
        .name-text { color: var(--sc-text-dark); }
       .btn-submit-custom { background-color: var(--sc-text-dark); border-color: var(--sc-text-dark); transition: all 0.3s ease; }
        .btn-submit-custom:hover { background-color: #00AEEF !important; border-color: #00AEEF !important; transform: scale(1.02); }
       .rating-table th { background-color: #f0f0f0; color: var(--sc-text-dark); }
        .overall-rating-row { background-color: var(--sc-bg-light); font-weight: bold; }
        .rating-table td:last-child { color: #007bff; }
        .marquee { background-color: #4a6fa5; color: white; padding: 0.5rem 0; text-align: center; }
       #form {max-width: 500px}
       #post {z-index: 2}
       #table {max-width: 800px}
        footer { background-color: #d9e2e8; font-family: 'Georgia', serif; }
    footer h6 {font-family: 'Montserrat', sans-serif; }
    /* Footer images */
    .footer-img {width: 100px;height: 100px; object-fit: cover;}

    </style>

</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-custom sticky-top">
  <div class="container">
    <a class="navbar-brand" href="index.html">
      <img src="logoo.png" alt="Logo" class="img-fluid" width="80" height="80">
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="mainNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link text-dark fw-semibold" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link text-dark fw-semibold" href="about.html">About Us</a></li>
        <li class="nav-item"><a class="nav-link text-dark fw-semibold" href="services.html">Services</a></li>
        <li class="nav-item"><a class="nav-link text-dark fw-semibold" href="doctors.html">Doctors</a></li>
        <li class="nav-item"><a class="nav-link text-dark fw-semibold" href="gallary.html">Gallery</a></li>
        <li class="nav-item"><a class="nav-link text-dark fw-semibold" href="review.html">Patient Reviews</a></li>
        <li class="nav-item"><a class="nav-link text-dark fw-semibold" href="bookAppointment.html">Book Appointment</a></li>
        <li class="nav-item"><a class="nav-link text-dark fw-semibold" href="contact.html">Contact</a></li>
      </ul>
    </div>
  </div>
</nav>



    <section class="hero-reviews position-relative text-white d-flex align-items-center justify-content-center text-center">

        <div class="container position-relative py-5" id="post">

            <h2 class="display-5 fw-bold mb-3">Don't Just Take Our Word For It</h2>

            <p class="lead">At SmileCare, our greatest reward is the satisfaction and trust of our patients.</p>

        </div>

    </section>



  

    <section id="testimonial-section" class="py-5">

        <div class="container">

            <h3 class="text-center mb-4 text-primary fw-bold">Recent Patient Testimonials</h3>

            <div class="row mb-4 justify-content-center">

    <div class="col-md-6">

        <div class="input-group shadow-sm">

            <input type="text" id="reviewSearch" class="form-control" placeholder="Search reviews by name or comment...">

            

            <button class="btn btn-outline-secondary" type="button" id="searchButton">

                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">

                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.085.122l3.057 3.057a1 1 0 0 0 1.414-1.414l-3.057-3.057a.75.75 0 0 0-.122-.085zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>

                </svg>

            </button>

        </div>

    </div>

</div>

            <div id="testimonial-cards" class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4 text-center">

                </div>

        </div>

    </section>



    <div class="container my-5">

        <div class="card p-4 mx-auto shadow-lg" id="form">

            <div class="card-body">

                <h1 class="text-center mb-4 text-primary fs-4">Share Your Experience</h1>

                

                    <form id="reviewForm" action="process_review.php" method="POST" class="needs-validation" novalidate>

                   

                    <div class="mb-3">

                        <label for="reviewName" class="form-label fw-bold text-secondary">Your Name (Optional):</label>

                        <input type="text" id="reviewName" name="patient_name" class="form-control">

                    </div>

                   

                    <div class="mb-3">

                        <label for="reviewRating" class="form-label fw-bold text-secondary">Overall Rating:</label>

                        <select id="reviewRating" name="overall_rating" class="form-select" required>

                            <option value="" disabled selected>Select a rating</option>

                            <option value="5">5 - Excellent</option>

                            <option value="4">4 - Very Good</option>

                            <option value="3">3 - Average</option>

                            <option value="2">2 - Poor</option>

                            <option value="1">1 - Very Poor</option>

                        </select>

                        <div class="invalid-feedback">Please select an overall rating.</div>

                    </div>

                    

                    <div class="mb-3">

                        <label for="reviewComments" class="form-label fw-bold text-secondary">Your Comments:</label>

                        <textarea id="reviewComments" name="review_comments" rows="4" class="form-control" required></textarea>

                        <div class="invalid-feedback">Please provide your comments (at least 5 characters).</div>

                    </div>

                    <div class="mb-3 form-check">

    <input type="checkbox" class="form-check-input" id="reviewConsent" name="consent" required>

    <label class="form-check-label fw-bold text-secondary" for="reviewConsent">I consent to my review being published. <span class="text-danger">*</span></label>

    <div class="invalid-feedback">You must consent to publish your review.</div>

</div>



<div class="mb-3">

    <label class="form-label fw-bold text-secondary d-block">Would you recommend SmileCare?</label>

    <div class="form-check form-check-inline">

        <input class="form-check-input" type="radio" name="recommend" id="radioYes" value="Yes" required>

        <label class="form-check-label" for="radioYes">Yes</label>

    </div>

    <div class="form-check form-check-inline">

        <input class="form-check-input" type="radio" name="recommend" id="radioNo" value="No" required>

        <label class="form-check-label" for="radioNo">No</label>

    </div>

    <div class="invalid-feedback d-block">Please choose an option.</div>

</div>

                    <button type="submit" class="btn w-100 mt-3 btn-submit-custom text-white">Submit Review</button>

                </form>

            </div>

        </div>

    </div>



    <div class="container mb-5">

        <div class="card p-3 mx-auto shadow-sm rating-summary" id="table" >

            <h4 class="text-center mb-3 text-primary">Patient Rating Summary (Calculated Dynamically)</h4>



            <table class="table table-striped mb-0 table-bordered rating-table">

                <thead>

                    <tr>

                        <th>Rating</th>

                        <th>Count</th>

                        <th class="text-end">Percentage</th>

                    </tr>

                </thead>

                <tbody id="rating-summary-body">

                    

                </tbody>

            </table>

        </div>

    </div>

    

     



  <footer class="pt-4 pb-4">
  <div class="container">
    <div class="row g-4">
      <div class="col-md-6 d-flex gap-3">
        <img src="2.jpg" alt="Mission" class="rounded footer-img">
        <div>
          <h6 class="fw-bold mb-1">Our Mission</h6>
          <p class="mb-0 small">To make every patient feel confident with their smile. We focus on gentle care + advanced technology.</p>
        </div>
      </div>

      <div class="col-md-6 d-flex gap-3">
        <img src="office.jpg" alt="Visit Us" class="rounded footer-img">
        <div>
          <h6 class="fw-bold mb-1">Visit Us</h6>
          <p class="mb-0 small">Shati Al Qurum - 3024 way</p>
          <p class="mb-0 small">ðŸ“ž +92828289 | +24696622 | +93233100</p>
          <p class="mb-0 small"><a href="mailto:smilecare@gmail.com" class="text-danger">smilecare@gmail.com</a></p>
        </div>
      </div>
    </div>

    <div class="text-center mt-3 small text-muted">Â© 2025 SmileCare Dental Clinic. All Rights Reserved.</div>
  </div>
</footer>



<div class="marquee">

    <marquee id="welcomeMarquee" behavior="scroll" scrollamount="6"></marquee>

</div>

    



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    

    <script>

        

        //Creating a new Review object include name, rating, comment,and  imageURL

        function Review(name, rating, comment, imageURL) {

            this.name = name || ' null '; //if name is not giing replae it with null

            this.rating = parseInt(rating);  //onerte rating to an integer

            this.comment = comment;

            this.imageURL = imageURL;

        }



        //Creating an array to hold the patient review data

        let reviews = [

            new Review("Robert T.", 3, "The dentist knew what he was doing and made me feel at ease.", "https://raw.githubusercontent.com/hadilsk/webproject/eb62d640a70187409981fffa5f56850cc26f2840/webproject/31H4fUBky1L.jpg"),

            new Review("Susan D.", 5, "Dr. Carter is excellent! Quick and painless.", "https://raw.githubusercontent.com/hadilsk/webproject/eb62d640a70187409981fffa5f56850cc26f2840/webproject/pIrD3JzW_400x400.jpg"),

            new Review("James P.", 4, "Modern clinic and great service.", "https://raw.githubusercontent.com/hadilsk/webproject/eb62d640a70187409981fffa5f56850cc26f2840/webproject/James-Gorman-396x396.jpg"),

            new Review("Albert T.", 5, "Best dentist we've ever had.", "https://raw.githubusercontent.com/hadilsk/webproject/eb62d640a70187409981fffa5f56850cc26f2840/webproject/Mark_T._Sullivan_.jpg"),

        ];





        //Creating a new Doctor object include id, name, specialty, and experience

        function Doctor(id, name, specialty, experience) {

            this.id = id;

            this.name = name;

            this.specialty = specialty;

            this.experience = experience;

        }



       // Array to hold all doctor data.

        let doctors = [

            new Doctor("D001", "Dr. Jane Carter", "Orthodontics", 12),

            new Doctor("D002", "Dr. Alex Smith", "General Dentistry", 8),

            new Doctor("D003", "Dr. Mia Lopez", "Pediatric Dentistry", 5)

        ];



        //converting the numeric rating to a star 

        function getStarRating(rating) {

            const fullStar = 'â˜…';

            const emptyStar = 'â˜†';

            //repeat a full star rating times , and the empty star for the rest (5 - rating )

            return fullStar.repeat(rating) + emptyStar.repeat(5 - rating);

        }



      

        //creating a new html card review

        function displayReviews(arr) {

            const container = document.getElementById('testimonial-cards');

            if (!container) return; 

            

            container.innerHTML = ''; //clear exiting cards



            arr.forEach(review => {

                //building a new card

                const cardHTML = `

                    <div class="col">

                        <div class="card h-100 p-4 shadow-sm review-card border-0">

                            <div class="mx-auto mb-3 trim-frame rounded-3">

                                <img src="${review.imageURL}" alt="Patient Review" class="img-fluid">

                            </div>

                            <p class="mb-2 fs-6 text-center">

                                <span class="fw-bold text-warning">${getStarRating(review.rating)}</span><br>

                                "${review.comment}"

                            </p>

                            <p class="fw-bold mb-0 name-text mt-auto text-center">- ${review.name}</p>

                        </div>

                    </div>

                `;

                container.innerHTML += cardHTML;  //add the new card html

            });

            

            //printing a message if the array is empty

            if (arr.length === 0) {

                 container.innerHTML = '<div class="col-12"><p class="text-center text-muted fs-5">No reviews found matching your search criteria.</p></div>';

            }

        }



        //calculate the review summary and then update it 

        function updateRatingSummary() {

            const tbody = document.getElementById('rating-summary-body');

            if (!tbody) return; //return if the table body is not found

            

            //calculate the count and sum

            const totalReviews = reviews.length;

            let sumRatings = 0;

            const ratingCounts = { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 };



            reviews.forEach(review => {

                const rating = review.rating;

                if (rating >= 1 && rating <= 5) {

                    ratingCounts[rating]++;

                    sumRatings += rating;

                }

            });



            

            const averageRating = totalReviews > 0 ? (sumRatings / totalReviews).toFixed(1) : 'N/A';

            

        

            // define the labels and order for summary table

            const rowData = [

                { rating: 5, label: "â˜…â˜…â˜…â˜…â˜… (Excellent)" },

                { rating: 4, label: "â˜…â˜…â˜…â˜…â˜† (Very Good)" },

                { rating: 3, label: "â˜…â˜…â˜…â˜†â˜† (Average)" },

                { rating: 2, label: "â˜…â˜…â˜†â˜†â˜† (Poor)" },

                { rating: 1, label: "â˜…â˜†â˜†â˜†â˜† (Very Poor)" }

            ];



            //create the table rows

            let tableHTML = '';

            rowData.forEach(data => {

                const count = ratingCounts[data.rating];

                const percentage = totalReviews > 0 ? ((count / totalReviews) * 100).toFixed(0) + '%' : '0%';

                tableHTML += `

                    <tr>

                        <td>${data.label}</td>

                        <td>${count}</td>

                        <td class="text-end">${percentage}</td>

                    </tr>

                `;

            });



            //after adding the rating row , add row for the average

            tableHTML += `

                <tr class="overall-rating-row">

                    <td colspan="2" class="text-start">Overall Average Rating (Total: ${totalReviews} Reviews)</td>

                    <td class="text-center">${averageRating} / 5.0</td>

                </tr>

            `;



            

            tbody.innerHTML = tableHTML;

        }

       

        function displayDoctors(arr) {

            const tbody = document.getElementById('doctor-table-body');

           if (!tbody) return; //return if the table body is not found

            tbody.innerHTML = '';

            arr.forEach(doctor => {

                const row = document.createElement('tr');

                row.innerHTML = `

                    <td>${doctor.id}</td>

                    <td>${doctor.name}</td>

                    <td>${doctor.specialty}</td>

                    <td class="text-end">${doctor.experience} years</td>

                `;

                tbody.appendChild(row);

            });

        }



        // OLD FUNCTION REMOVED - This was preventing PHP submission
        // function addReview(event) {
        //     event.preventDefault(); 
        //     ... rest of the function ...
        // }



        /**

         * searches the 'reviews' array based on the user's input

         */

        function searchReviews() {

            //get the current value from the search inputfield and convertit to lowercase

            const query = document.getElementById('reviewSearch').value.toLowerCase();

        

            //Check if the input is included in the review name OR the review comment

            const filteredReviews = reviews.filter(review => {

                return review.name.toLowerCase().includes(query) || 

                       review.comment.toLowerCase().includes(query);

            });



            // Call the display function

            displayReviews(filteredReviews);

        }



        /** 

         * Initializes the page by displaying content

         */

        function initPage() {

            //display all initial reviews on load

            displayReviews(reviews);

            //Calculate and update the summary of the star ratings

            updateRatingSummary();

            displayDoctors(doctors);



            //Set up event listener for the search button

            document.getElementById('searchButton').addEventListener('click', searchReviews);

            document.getElementById('reviewSearch').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault(); 
                    searchReviews();

                }

            });

            // Add Bootstrap validation to form (but allow PHP submission when valid)
            const form = document.getElementById('reviewForm');
            form.addEventListener('submit', function(event) {
                if (!form.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                    form.classList.add('was-validated');
                }
                // If form is valid, it will submit to process_review.php automatically
            });

        }
        document.getElementById('reviewForm').addEventListener('submit', function(event) {
    // Get the comment field value
    const reviewComment = document.getElementById('reviewComments').value;

    // Check if the comment has at least 5 characters
    if (reviewComment.length < 5) {
        // Prevent form submission
        event.preventDefault();
        event.stopPropagation();

        // Add custom invalid feedback
        document.getElementById('reviewComments').setCustomValidity("Please enter at least 5 characters for your comment.");
        
        // Trigger browser's built-in validation feedback
        document.getElementById('reviewForm').classList.add('was-validated');
    } else {
        // Reset custom validity if the comment is long enough
        document.getElementById('reviewComments').setCustomValidity("");
    }
});

        document.addEventListener('DOMContentLoaded', initPage);

         /* Marquee (moving text banner) */

  // Select the marquee element where the welcome message will appear

  var marquee = document.getElementById("welcomeMarquee");



  // Function to add leading zero if a number is less than 10

  function pad(n) { 

    return n < 10 ? "0" + n : n; 

  }



  // Function to update the marquee with current day, date, and time

  function updateMarquee() {

    var now = new Date(); // Get current date and time

    var days = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];

    var day = days[now.getDay()]; // Get the current day name

    var dateStr = now.getFullYear() + "-" + pad(now.getMonth()+1) + "-" + pad(now.getDate()); // Format date

    var timeStr = pad(now.getHours()) + ":" + pad(now.getMinutes()) + ":" + pad(now.getSeconds()); // Format time

    marquee.textContent = "Welcome to SmileCare Dental! Today is " + day + ", " + dateStr + ", and the time is " + timeStr + ".";

  }



  updateMarquee(); // Run once immediately

  setInterval(updateMarquee, 1000); // Update every second



    /* Active navbar link highlighting */

  // Select all navigation links

  var links = document.querySelectorAll(".navbar-nav .nav-link");



  // Get the current page filename from the URL

  var currentPage = location.pathname.split("/").pop();



  // Loop through all links and add "active" class to the one matching the current page

  for (var i = 0; i < links.length; i++) {

    if (links[i].getAttribute("href") === currentPage) {

      links[i].classList.add("active"); // Highlight current page link

    }

  }



    </script>



</body>



</html>